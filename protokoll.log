#####################################################################
#####  START: INSTALL FIX IP AND SET HOSTNAME
#####################################################################

CHANGE NETWORK INTERFACE FIX IP
Manipulated file: /etc/network/interfaces
Check if any interface does a have static ip
Get interface name of active network interfaces
FIRST_ACTIVE_INTERFACE: wlan0
ACTIVE_INTERFACES: wlan0
Save original file: /etc/network/interfaces
#####################################################################
FILE:  /etc/network/interfaces

# interfaces(5) file used by ifup(8) and ifdown(8)
auto lo
iface lo inet loopback

#####################################################################
Write new static configuration to /etc/network/interfaces
Add auto wlan0 to /etc/network/interfaces
Append new interface configuration to /etc/network/interfaces
Restart network interface with: /etc/network/interfaces
#####################################################################
FILE:  /etc/network/interfaces

# interfaces(5) file used by ifup(8) and ifdown(8)
auto lo
iface lo inet loopback

#####################################################################
CHANGE HOSTNAME
Manipulated file: /etc/hostname
Save original file: /etc/hostname
#####################################################################
FILE:  /etc/hostname

fiscR1

#####################################################################
Change hostname for runnig system
Change file: /etc/hostname
#####################################################################
FILE:  /etc/hostname

fiscR1

#####################################################################
Manipulated file: /etc/hosts
Save original file: /etc/hosts
#####################################################################
FILE:  /etc/hosts

127.0.0.1	localhost
127.0.1.1	fiscR1

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters

#####################################################################
Change file: /etc/hosts
#####################################################################
FILE:  /etc/hosts

127.0.0.1	localhost
127.0.1.1	fiscR1

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters

#####################################################################

######  FINISH: INSTALL FIX IP AND SET HOSTNAME
#####################################################################

#####################################################################
#####  START: INSTALLATION OF DNS - SERVER
#####################################################################

apt-get -y -y install bind9
ADD DNS - SERVERS TO FORWARDERS
Manipulated file: /etc/bind/named.conf.options
Save original file: /etc/bind/named.conf.options
#####################################################################
FILE:  /etc/bind/named.conf.options


#####################################################################
Enable forwarding in file: /etc/bind/named.conf.options
#####################################################################
FILE:  /etc/bind/named.conf.options


#####################################################################
ADD ZONE-FILES FOR DOMAIN
Manipulated file: /etc/bind/named.conf.local
Save original file: /etc/bind/named.conf.local
#####################################################################
FILE:  /etc/bind/named.conf.local


#####################################################################
write zone files to: /etc/bind/named.conf.local
#####################################################################
FILE:  /etc/bind/named.conf.local


#####################################################################
WRITE ZONE-FILES
Manipulated file: /etc/bind/db.networkbox.net
Write file: /etc/bind/db.networkbox.net
#####################################################################
FILE:  /etc/bind/db.networkbox.net


#####################################################################
WRITE REVERSE-ZONE-FILES
Manipulated file: /etc/bind/db.1.168.192
Write file: /etc/bind/db.1.168.192
#####################################################################
FILE:  /etc/bind/db.1.168.192


#####################################################################

######  FINISH: INSTALLATION OF DNS - SERVER
#####################################################################

#####################################################################
#####  START: INSTALLATION OF DHCP - SERVER
#####################################################################

apt-get -y install isc-dhcp-server
TELL DHCP - SERVER INTERFACE TO OFFER SERVICE
Manipulated file: /etc/default/isc-dhcp-server
Save original file: /etc/default/isc-dhcp-server
#####################################################################
FILE:  /etc/default/isc-dhcp-server


#####################################################################
Change file: /etc/default/isc-dhcp-server
#####################################################################
FILE:  /etc/default/isc-dhcp-server


#####################################################################
WRITE DHCP - CONFIGURATION
Manipulated file: /etc/dhcp/dhcpd.conf
Save original file: /etc/dhcp/dhcpd.conf
#####################################################################
FILE:  /etc/dhcp/dhcpd.conf


#####################################################################
Write new: /etc/dhcp/dhcpd.conf
#####################################################################
FILE:  /etc/dhcp/dhcpd.conf


#####################################################################

######  FINISH: INSTALLATION OF DHCP - SERVER
#####################################################################

#####################################################################
#####  START: INSTALLATION OF TFTP - SERVER
#####################################################################

apt-get -y install tftpd-hpa
CONFIGURATION OF TFTP - SERVER
cp -R pxelinux.cfg
cp -R ubuntu-installer
cp -R preseed
SET PASSWORD FOR TFTP-BOOT-SCREEN
Set password for tftp boot screen in config-tftp_bootmenu.sh
SET ADMIN & ADMIN-PASSWORD FOR WORKSTATIONS IN PRESEED - FILES
Set admin fullname, name & password in preseed-file: /preseed/upstart/config-preseed.sh
Set admin fullname, name & password in preseed-file: /preseed/upstart/config-tftp_bootmenu.sh
Set admin fullname, name & password in preseed-file: /preseed/upstart/install-tftpboot.sh
Set admin fullname, name & password in preseed-file: /preseed/upstart/preseed
Set admin fullname, name & password in preseed-file: /preseed/upstart/pxelinux.cfg
Set admin fullname, name & password in preseed-file: /preseed/upstart/ubuntu-installer
Set admin fullname, name & password in preseed-file: /preseed/upstart/uninstall-tftpboot.sh
Set admin fullname, name & password in preseed-file: /preseed/upstart/wget-Ubuntu.sh
Set admin fullname, name & password in preseed-file: /preseed/systemd/config-preseed.sh
Set admin fullname, name & password in preseed-file: /preseed/systemd/config-tftp_bootmenu.sh
Set admin fullname, name & password in preseed-file: /preseed/systemd/install-tftpboot.sh
Set admin fullname, name & password in preseed-file: /preseed/systemd/preseed
Set admin fullname, name & password in preseed-file: /preseed/systemd/pxelinux.cfg
Set admin fullname, name & password in preseed-file: /preseed/systemd/ubuntu-installer
Set admin fullname, name & password in preseed-file: /preseed/systemd/uninstall-tftpboot.sh
Set admin fullname, name & password in preseed-file: /preseed/systemd/wget-Ubuntu.sh
DOWNLOAD UBUNTU - KERNEL IMAGES

######  FINISH: INSTALLATION OF TFTP - SERVER
#####################################################################

#####################################################################
#####  START: INSTALLATION OF NFS - SERVER
#####################################################################

check in /etc/exports, if filesystem is already exported
install NFS - Server
apt-get -y install nfs-kernel-server
Create export directory /export
WRITE TO /ETC/EXPORTS
Manipulated file: /etc/exports
Save original file: /etc/exports
#####################################################################
FILE:  /etc/exports


#####################################################################
write root export to: /etc/exports
#####################################################################
FILE:  /etc/exports


#####################################################################

######  FINISH: INSTALLATION OF NFS - SERVER
#####################################################################

#####################################################################
#####  START: INSTALLATION OF LAUS - SERVER
#####################################################################

Create export directory
MOUNT /opt/autoinstall TO EXPORTS DIRECTORY /export/autoinstall
Manipulated file: /etc/fstab
Save original file: /etc/fstab
#####################################################################
FILE:  /etc/fstab

# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point>   <type>  <options>       <dump>  <pass>
# / was on /dev/sda6 during installation
UUID=5b3f1ee0-ba36-4149-be3d-45ac0d461973 /               ext4    errors=remount-ro 0       1
# /home was on /dev/sda9 during installation
UUID=7ea82c26-9579-4f3f-844e-3fb2a67b4eee /home           ext4    defaults        0       2
# /opt was on /dev/sda8 during installation
UUID=20c073d5-9348-4d3a-9406-01970999f6d9 /opt            ext4    defaults        0       2
# /rootsda7 was on /dev/sda7 during installation
#UUID=e7623d6a-a245-41b5-a3ff-ffa93d9e9503 /rootsda7       ext4    defaults        0       2
# swap was on /dev/sda5 during installation
UUID=6711b31a-a1b2-4be4-b113-2883a686bf55 none            swap    sw              0       0

#####################################################################
Write to file: /etc/fstab
#####################################################################
FILE:  /etc/fstab

# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point>   <type>  <options>       <dump>  <pass>
# / was on /dev/sda6 during installation
UUID=5b3f1ee0-ba36-4149-be3d-45ac0d461973 /               ext4    errors=remount-ro 0       1
# /home was on /dev/sda9 during installation
UUID=7ea82c26-9579-4f3f-844e-3fb2a67b4eee /home           ext4    defaults        0       2
# /opt was on /dev/sda8 during installation
UUID=20c073d5-9348-4d3a-9406-01970999f6d9 /opt            ext4    defaults        0       2
# /rootsda7 was on /dev/sda7 during installation
#UUID=e7623d6a-a245-41b5-a3ff-ffa93d9e9503 /rootsda7       ext4    defaults        0       2
# swap was on /dev/sda5 during installation
UUID=6711b31a-a1b2-4be4-b113-2883a686bf55 none            swap    sw              0       0

#####################################################################
ADD /export/autoinstall TO /etc/exports
Manipulated file: /etc/exports
Save original file: /etc/exports
#####################################################################
FILE:  /etc/exports


#####################################################################
Write to file: /etc/exports
#####################################################################
FILE:  /etc/exports


#####################################################################
ADD hostsToClasses TO /opt/autoinstall/laus
Manipulated file: /opt/autoinstall/laus/hostsToClasses
write to file: /opt/autoinstall/laus/hostsToClasses
#####################################################################
FILE:  /opt/autoinstall/laus/hostsToClasses


#####################################################################
CREATE CLASS NEWWORKBOX FOR STARTUP
Manipulated directory /opt/autoinstall/laus/scriptsForClasses/NETWORKBOX
mkdir /opt/autoinstall/laus/scriptsForClasses/NETWORKBOX
cp /opt/autoinstall/laus/scriptsForClasses/UBUNTU1404/020-installUbuntuDesktop.sh /opt/autoinstall/laus/scriptsForClasses/NETWORKBOX
cp /opt/autoinstall/laus/scriptsForClasses/UBUNTU1404/030-installLibreOffice.sh /opt/autoinstall/laus/scriptsForClasses/NETWORKBOX

######  FINISH: INSTALLATION OF LAUS - SERVER
#####################################################################

#####################################################################
#####  START: INSTALLATION OF OWNCLOUD
#####################################################################

SILENT INSTALLATION OF MYSQL - SERVER
apt-get -q -y install mysql-server
Set password for user root for SQL-Server
CREATE DATABASE & DATABASE-ADMIN FOR OWNCLOUD-DATABASE
Setup mysql database for owncloud
from http://raspberry.tips/server-2/owncloud-8-1-auf-dem-raspberry-pi-2-mit-apache/
INSTALL WEB - SERVER WITH HTTPS
apt-get -q -y install apache2
enable module ssl with: a2enmod ssl
enable site default-ssl in /etc/apache2/site-available/default-sll.conf with: a2ensite default-ssl
Install owncloud
Install repository key
Adding repo entry to file: /etc/apt/sources.list.d/owncloud.list
apt-get update to get new packages
apt-get -y install owncloud
Setting Strong Directory Permissions
from owncloud homepage
CONNECT OWNCLOUD - DATABASE TO OWNCLOUD
Connect owncloud with database via php occ ...

######  FINISH: INSTALLATION OF OWNCLOUD
#####################################################################

