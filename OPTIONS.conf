#!/bin/bash

# Variables
# ATTENTION
# NETMASK just work for
# 255.255.255.0
# 255.255.0.0
# 255.0.0.0


#####################################################################
## GLOBAL NETWORK - settings
## for ALL servers with static IP
#####################################################################
NETWORK=192.168.1.0
NETMASK=255.255.255.0
BROADCAST=192.168.1.255
GATEWAY=192.168.1.254

# the name of your domain
DOMAIN_NAME=networkbox.net

# DNS #1 IP of YOUR own DNS - server knowing all your servers
# for example: dhcp, tftp and so on
DNS_IP_LOCAL_NETWORK=192.168.1.1

# DNS #2 IP of your router/provider, do not leave it empty
DNS_IP_PROVIDER=192.168.1.254

# DNS #3 IP out in the internet(google), do not leave it empty
DNS_IP_WWW=8.8.8.8


#####################################################################
## to istall server(s) NETWORK - settings
#####################################################################
# full networkbox: install.sh in this directory will install all 
#                  all servers onto one maschine
#
# DNS:             install-hostname_and_static_ip.sh in directory
#                  hostname_static_ip
#                  &
#                  install-bind.sh in directory bind will install
#                  a static network interface and thd dns - server
#
# DHCP:            install-dhcp.sh in dhcp
#                  and so on ...
#
#####################################################################
# hostname and IP for installed server(s)
HOSTNAME=name01
STATIC_IP=192.168.1.1


#####################################################################
## DNS - Server
#####################################################################
# nothing to do
# all settings, derived vom GLOBAL DNS and static NETWORK

# if config files for zone lookup  and reverse lookup 
# should be pulled from a git repository
# add repository  with db.$DOMAIN_NAME file and db.reverse
# may be a sensefull .gitignore file
# and a username with an e-mail address
DNS_GIT_REPOSITORY=
DNS_GIT_USER_NAME=
DNS_GIT_USER_EMAIL=


#####################################################################
## DHCP - Server
#####################################################################
# interfaces which offer dhcp - services
# will be dedected automatically, by choosing the active interface
# You will be asked, if more than on interface is active

# if config file /etc/dhcpd.conf should be pulled from a git repository
# add repository 
# with dhcpd.conf file and may be a sensefull .gitignore file
# and a username with an e-mail address
DHCP_GIT_REPOSITORY=
DHCP_GIT_USER_NAME=
DHCP_GIT_USER_EMAIL=

# Options, if /etc/dhcpd.conf is generated by networkbox
# range for dynamic ip's, which have to be part of your NETWORK!
DHCP_MIN_RANGE=192.168.1.200
DHCP_MAX_RANGE=192.168.1.220

# hostname, ip and mac for 2 example - dhcp - clients
DHCP_HOST_1_HOSTNAME=r001pc01
DHCP_HOST_1_IP=192.168.1.101
DHCP_HOST_1_MAC=00:00:00:00:00:01

DHCP_HOST_2_HOSTNAME=r002pc02
DHCP_HOST_2_IP=192.168.1.121
DHCP_HOST_2_MAC=00:00:00:00:00:02


#####################################################################
## TFTP
#####################################################################
# TFTP MENU PASSWD set in files:
# /var/lib/tftpboot/ubuntu-installer/menus/boot-screens/adtxt.cfg
# /var/lib/tftpboot/ubuntu-installer/menus/boot-screens/ubuntu1404.cfg
TFTP_MENU_PASSWD=123


# PRESEED
# config preseed file located in /var/lib/tftpboot/preseed
# preseed files are responsible for bootstrapping ubuntu-minimal
# name of admin (sudo for root) account for workstations set up with preseed file
PRESEED_ADMIN_ACCOUNT_FULLNAME=Worker
PRESEED_ADMIN_ACCOUNT_NAME=worker
# cleartext password of the admin account
PRESEED_ADMIN_ACCOUNT_PASSWORD=1234


#####################################################################
## NFS - server
#####################################################################
# directory, in which NFS exports are for export collected
NFS_EXPORT_DIR=/export


#####################################################################
## LAUS
#####################################################################
# laus server is created in directory:
# /opt/autoinstall
# and exported via NFS
# for networkbox the class NETWORKBOX is createted
# and filled with some basic scripts


#####################################################################
## LDAP
#####################################################################
# setup of an LDAP - Server
# Information from:
# https://help.ubuntu.com/lts/serverguide/openldap-server.html#openldap-configuration

## Settings for the Real Time Configuration), or the cn=config method.
## Admin account to access cn=config database via ldap-browser from extern
CN_CONFIG_ADMIN_NAME=admin
CN_CONFIG_ADMIN_PASSWORD=1234

# a lot of schemas will be added to cn=config
# have a look at 
# file ldap/cn_config/add-schemas_to_cn_config.sh
# to find out and reduce if necessary 
# Reduction can always be done with a LDAP-browser later

## Settings for the ldap-tree, in which all data is stored
LDAP_DOMAIN_SUFFIX_FIRST=example
LDAP_DOMAIN_SUFFIX_SECOND=com
## will become dc=example,dc=com

## password for user admin in ldap-tree
LDAP_DOMAIN_ADMIN_PASSWORD=1234


#####################################################################
## OWNCLOUD 
#####################################################################
# install owncloud server
# splitted up in parts
# 1. sql - server
# 2. sql - database
# 3. owncloud - server

#####################################################################
## sql - server
#####################################################################
# quit install to set password from OPTIONS.conf
SQL_SERVER_ROOT_PASSWORD=root1234


#####################################################################
## sql - database
#####################################################################
# create database user with all rights for database
DB=owncloud
DB_ADMIN=dbadmin
DB_ADMIN_PASSWORD=dbadmin1234

# sql command to set up database for owncloud
SQL_COMMAND="CREATE DATABASE ${DB}; \
CREATE USER '${DB_ADMIN}'@'localhost' IDENTIFIED BY '${DB_ADMIN_PASSWORD}'; \
GRANT ALL PRIVILEGES ON ${DB}.* TO '${DB_ADMIN}'@'localhost'; \
FLUSH PRIVILEGES;"


#####################################################################
## apache2 - server
#####################################################################
# nothing to config :-)


#####################################################################
## OWNCLOUD - server
#####################################################################
# owncloud admin
OC_ADMIN=admin
OC_ADMIN_PASSWORD=admin1234

# owncloud datapath
# LEAVE EMPTY FOR DEFAULT: /var/www/owncloud/database
# can be changed, if data should be stored elsewhere
OC_DATA_PATH=




